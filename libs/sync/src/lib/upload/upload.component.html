<div class="container">
  <div
    class="steps"
    *ngIf="(currentSourceId | async) === null">
    <ng-container *ngFor="let id of steps; let last = last; let i = index">
      <div
        class="step"
        [class.active]="i === (step | async)"
        [class.pending]="i > ((step | async) || -1)">
        {{ 'upload.steps.' + id | translate }}
        <pa-icon
          *ngIf="!last"
          name="chevron-right"></pa-icon>
      </div>
    </ng-container>
  </div>
  <h2>{{ 'upload.source.title' | translate }}</h2>
  <p>{{ 'upload.source.description' | translate }}</p>
  <nsy-connectors
    *ngIf="(step | async) === 0"
    type="sources"
    (selectConnector)="onSelectConnector($event)"
    (cancel)="cancel()"></nsy-connectors>
  <nsy-settings
    *ngIf="(step | async) === 1"
    [addNew]="newConnector"
    (save)="selectSource($event)"
    (cancel)="cancel()"></nsy-settings>
  <ng-container *ngIf="(step | async) === 2">
    <nsy-select-files
      (cancel)="cancel()"
      (settings)="goToSettings()" />
  </ng-container>
</div>
