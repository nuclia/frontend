<stf-user-container widthSm="520px">
  <stf-user-container-logo>
    <div class="signup">
      <div class="signup_description">
        <strong>{{ 'login.signup' | translate }} </strong>
        <span>{{ 'login.join_expedition' | translate }}</span>
      </div>
      <div class="signup_form_wrapper">
        <div class="signup_form">
          <form [formGroup]="signupForm" (ngSubmit)="submit()">
            <div class="signup_field">
              <pa-input formControlName="username"
                        required
                        autocapitalize="off"
                        [errorMessages]="validationMessages.username"
                        (enter)="onEnterPressed('username')">{{ 'login.full_name' | translate }}</pa-input>
            </div>
            <div class="signup_field">
              <pa-input #email
                        formControlName="email"
                        type='email'
                        [errorMessages]="validationMessages.email"
                        (enter)="onEnterPressed('email')">{{ 'login.email' | translate }}</pa-input>
            </div>
            <div class="signup_policy">
              <pa-checkbox [(value)]="acceptedConditions">
                <span>{{ 'login.agree' | translate }} </span>
                <a href="https://nuclia.com/terms-and-conditions/"
                   target="_blank">{{ 'login.terms_and_conditions' | translate }}</a>
              </pa-checkbox>
              <pa-checkbox [(value)]="acceptedPrivacy">
                <span>{{ 'login.agree' | translate }} </span>
                <a href="https://nuclia.com/privacy-policy/"
                   target="_blank">{{ 'login.privacy_policy' | translate }}</a>
              </pa-checkbox>
            </div>

            <div class="signup_error">
              <div *ngIf="emailAlreadyExists">{{ 'login.email_already_exists' | translate }}</div>
            </div>
            <footer class="pa-dual-buttons">
              <pa-button aspect="basic"
                         [routerLink]="['/user/login']"
                         queryParamsHandling="merge">
                {{ 'generic.cancel' | translate }}
              </pa-button>
              <pa-button [disabled]="signupForm.invalid || !acceptedConditions || !acceptedPrivacy"
                         kind="primary"
                         type="submit">
                {{'Sign Up' | translate}}
              </pa-button>
            </footer>
          </form>
        </div>
      </div>
    </div>
  </stf-user-container-logo>
</stf-user-container>
