<div class="profile">
  <div class="profile-container">
    <pa-button
      class="close-button"
      icon="cross"
      aspect="basic"
      (click)="goBack()">
      {{ 'generic.close' | translate }}
    </pa-button>

    <form [formGroup]="profileForm">
      <h1>{{ 'generic.user_preferences' | translate }}</h1>

      <div class="field">
        <div class="field-label">
          <label for="name">{{ 'profile.name' | translate }}</label>
        </div>
        <div class="field-input">
          <pa-input
            formControlName="name"
            id="name"
            required
            externalLabel
            [errorMessages]="profile_validation_messages.name"></pa-input>
        </div>
      </div>

      <div class="field">
        <div class="field-label">
          <label for="email">{{ 'generic.email' | translate }}</label>
        </div>
        <div class="field-input">
          <pa-input
            formControlName="email"
            id="email"
            required
            type="email"
            [errorMessages]="profile_validation_messages.email"></pa-input>
        </div>
      </div>

      <ng-container *ngIf="canModifyPassword">
        <div class="field">
          <div class="field-label">
            <label>{{ 'profile.new_password' | translate }}</label>
          </div>
          <div class="field-input">
            <nsi-password-input
              formControlName="password"
              [errorMessages]="profile_validation_messages.password"></nsi-password-input>
          </div>
        </div>

        <div class="field">
          <div class="field-label">
            <label>{{ 'profile.repeat_password' | translate }}</label>
          </div>
          <div class="field-input">
            <nsi-password-input
              formControlName="passwordConfirm"
              [errorMessages]="profile_validation_messages.passwordConfirm"></nsi-password-input>
          </div>
        </div>
      </ng-container>

      <div class="field">
        <div class="field-label">
          <label for="language">{{ 'generic.language' | translate }}</label>
        </div>
        <div class="field-input">
          <pa-radio-group
            id="language"
            formControlName="language">
            <pa-radio
              *ngFor="let lang of languages"
              [value]="lang.value">
              {{ lang.label | translate }}
            </pa-radio>
          </pa-radio-group>
        </div>
      </div>

      <div class="actions">
        <pa-button
          kind="primary"
          (click)="save()">
          {{ 'generic.save' | translate }}
        </pa-button>
      </div>
    </form>
  </div>
</div>
