<div class="profile">
  <div class="profile-container">
    <pa-button class="close-button"
               icon="cross"
               aspect="basic"
               (click)="goBack()">{{'generic.close' | translate}}</pa-button>

    <form [formGroup]="profileForm">
      <h1>{{ 'generic.user_preferences' | translate }}</h1>

      <div class="field">
        <div class="field-label">
          <label>{{ 'profile.name' | translate }}</label>
        </div>
        <div class="field-input">
          <stf-input formControlName="name"
                     [required]="true"
                     name="name"
                     type="text"
                     [isLessen]="true"
                     [validator]="profileForm.controls['name']"
                     [validation_messages]="profile_validation_messages.name">
          </stf-input>
        </div>
      </div>

      <div class="field">
        <div class="field-label">
          <label>{{ 'generic.email' | translate }}</label>
        </div>
        <div class="field-input">
          <stf-input formControlName="email"
                     [required]="true"
                     name="email"
                     type="email"
                     [isLessen]="true"
                     [validator]="profileForm.controls['email']"
                     [validation_messages]="profile_validation_messages.email">
          </stf-input>
        </div>
      </div>

      <ng-container *ngIf="canModifyPassword">
        <div class="field">
          <div class="field-label">
            <label>{{ 'profile.new_password' | translate }}</label>
          </div>
          <div class="field-input">
            <stf-password-input controlName="password"
                                [isLessen]="true"
                                [validator]="profileForm.controls['password']"
                                [validation_messages]="profile_validation_messages.password">
            </stf-password-input>
          </div>
        </div>

        <div class="field">
          <div class="field-label">
            <label>{{ 'profile.repeat_password' | translate }}</label>
          </div>
          <div class="field-input">
            <stf-password-input controlName="passwordConfirm"
                                [isLessen]="true"
                                [validator]="profileForm.controls['passwordConfirm']"
                                [validation_messages]="profile_validation_messages.passwordConfirm">
            </stf-password-input>
          </div>
        </div>
      </ng-container>

      <div class="field">
        <div class="field-label">
          <label>{{ 'generic.language' | translate }}</label>
        </div>
        <div class="field-input">
          <stf-checkbox-group [checkboxes]="languages"
                              [(selection)]="language"
                              type="radio"
                              [inline]="true">
          </stf-checkbox-group>
        </div>
      </div>

      <div class="actions">
        <pa-button kind="primary"
                   (click)="save()">
          {{ 'generic.save' | translate }}
        </pa-button>
      </div>
    </form>
  </div>
</div>
