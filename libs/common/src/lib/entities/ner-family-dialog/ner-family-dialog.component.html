<pa-modal-advanced>
  <pa-modal-title>{{ 'ner-family-dialog.new-family-title' | translate }}</pa-modal-title>
  <pa-modal-content>
    <form
      [formGroup]="entityForm"
      class="entity-form">
      <pa-input
        formControlName="title"
        (valueChange)="savingError = ''">
        {{ 'ner-family-dialog.family-name' | translate }}
      </pa-input>
      <pa-input
        formControlName="color"
        [placeholder]="'ner-family-dialog.family-color-placeholder' | translate"
        (valueChange)="savingError = ''">
        {{ 'ner-family-dialog.family-color' | translate }}
      </pa-input>

      <div class="upload-csv-container">
        <strong>{{ 'ner-family-dialog.upload-csv-title' | translate }}</strong>
        <app-csv-select
          buttonKind="secondary"
          [help]="['ner-family-dialog.upload-csv-format']"
          [fields]="1"
          [confirmData]="confirmCsv"
          (select)="uploadCsv($event)"></app-csv-select>
      </div>

      <div class="separator">{{ 'generic.or' | translate }}</div>

      <div>
        <p>
          <strong>{{ 'ner-family-dialog.ner-list-title' | translate }}</strong>
        </p>
        <pa-textarea
          formControlName="entities"
          resizable="false"
          [rows]="3"
          [help]="'ner-family-dialog.ner-list-help' | translate"
          (valueChange)="onChangingEntitiesManually($event)">
          {{ 'ner-family-dialog.ner-list' | translate }}
        </pa-textarea>
      </div>
    </form>
    <div
      class="error"
      *ngIf="savingError">
      {{ savingError | json }}
    </div>
  </pa-modal-content>
  <pa-modal-footer>
    <pa-button
      kind="secondary"
      aspect="basic"
      (click)="modal.close()">
      {{ 'generic.cancel' | translate }}
    </pa-button>
    <pa-button
      kind="primary"
      [disabled]="!entityForm.valid || entityForm.pristine"
      (click)="save()">
      {{ 'generic.save' | translate }}
    </pa-button>
  </pa-modal-footer>
</pa-modal-advanced>
