<div class="search-page">
  <div class="search-preview-container page-spacing">
    <header>
      <div class="page-title">
        {{ 'search.title' | translate }}
      </div>
      <div class="page-description">{{ 'search.description' | translate }}</div>
    </header>
    @if (widgetPreview | async; as widgetPreview) {
      <div
        id="preview"
        class="preview-content"
        [innerHtml]="widgetPreview.preview"></div>
    }
  </div>

  <pa-button
    class="toggle-panel-button"
    icon="chevrons-left"
    [class.visible]="configPanelCollapsed"
    (click)="configPanelCollapsed = !configPanelCollapsed">
    {{ 'search.configuration.action.open-panel' | translate }}
  </pa-button>

  <div
    #configurationContainer
    class="search-configuration-container"
    [class.collapsed]="configPanelCollapsed">
    <pa-button
      class="close-button"
      icon="cross"
      aspect="basic"
      (click)="configPanelCollapsed = !configPanelCollapsed">
      {{ 'generic.close' | translate }}
    </pa-button>

    <stf-search-configuration
      displayWidgetButtonLine
      mainTitle="search.configuration.saved-config-title"
      [configurationContainer]="configurationContainerElement"
      (configUpdate)="updateConfig($event)"
      (createWidget)="createWidget()"></stf-search-configuration>
  </div>
</div>
