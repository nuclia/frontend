<div
  class="app-navbar"
  [class.is-unfolded]="isUnfolded">
  <div class="navbar-scroll-container">
    <div
      *ngIf="!(inAccount | async)"
      class="navbar-content">
      <div class="nav-group">
        <div class="group-items">
          <a
            [routerLink]="kbUrl"
            class="nav-link"
            routerLinkActive="active"
            [routerLinkActiveOptions]="{ exact: true }">
            <pa-icon name="home"></pa-icon>
            <span class="nav-link-title">{{ 'stash.home.link' | translate }}</span>
          </a>
        </div>
      </div>
      <div class="nav-group">
        <div class="group-items">
          <a
            [routerLink]="(isAdminOrContrib | async) && !(invalidKey | async) ? kbUrl + '/upload' : null"
            class="nav-link"
            routerLinkActive="active"
            [routerLinkActiveOptions]="{ exact: true }"
            [class.disabled]="!(isAdminOrContrib | async) || (invalidKey | async)">
            <pa-icon name="upload"></pa-icon>
            <span class="nav-link-title">{{ 'stash.upload_data' | translate }}</span>
          </a>
        </div>
      </div>
      <div class="nav-group">
        <div class="group-items">
          <a
            class="nav-link"
            routerLinkActive="active"
            [routerLink]="!(invalidKey | async) ? kbUrl + '/search' : null"
            [class.disabled]="invalidKey | async">
            <pa-icon name="search"></pa-icon>
            <span class="nav-link-title">{{ 'stash.search' | translate }}</span>
          </a>
          <a
            [routerLink]="!(invalidKey | async) ? kbUrl + '/resources' : null"
            routerLinkActive="active"
            class="nav-link"
            [class.disabled]="invalidKey | async">
            <pa-icon name="list"></pa-icon>
            <span class="nav-link-title">{{ 'stash.side.list' | translate }}</span>
          </a>
          <ng-container *ngIf="!standalone && (isTrial | async) === false">
            <a
              [routerLink]="(isAdminOrContrib | async) ? kbUrl + '/activity/download' : null"
              routerLinkActive="active"
              class="nav-link"
              [class.disabled]="!(isAdminOrContrib | async)">
              <pa-icon name="activity-log"></pa-icon>
              <span class="nav-link-title">{{ 'stash.side.activity' | translate }}</span>
            </a>
          </ng-container>

          <a
            [routerLink]="!(invalidKey | async) ? kbUrl + '/label-sets' : null"
            routerLinkActive="active"
            class="nav-link"
            [class.disabled]="invalidKey | async">
            <pa-icon name="label"></pa-icon>
            <span class="nav-link-title">{{ 'stash.side.classification' | translate }}</span>
          </a>
          <a
            *ngIf="isEntitiesEnabled | async"
            [routerLink]="!(invalidKey | async) ? kbUrl + '/entities' : null"
            routerLinkActive="active"
            class="nav-link"
            [class.disabled]="invalidKey | async">
            <pa-icon name="form"></pa-icon>
            <span class="nav-link-title">{{ 'generic.named-entities' | translate }}</span>
          </a>
          <ng-container *ngIf="!standalone">
            <a
              *ngIf="isSynonymsEnabled | async"
              [routerLink]="[kbUrl + '/synonyms']"
              routerLinkActive="active"
              class="nav-link">
              <pa-icon name="synonyms"></pa-icon>
              <span class="nav-link-title">{{ 'stash.side.synonyms' | translate }}</span>
            </a>
          </ng-container>
        </div>
      </div>

      <div class="nav-group">
        <div class="group-items">
          <a
            [routerLink]="(isAdmin | async) && !(invalidKey | async) ? kbUrl + '/manage' : null"
            routerLinkActive="active"
            class="nav-link"
            [class.disabled]="!(isAdmin | async) || (invalidKey | async)">
            <pa-icon name="settings"></pa-icon>
            <span class="nav-link-title">{{ 'stash.side.settings' | translate }}</span>
          </a>
        </div>
        <ng-container *ngIf="!standalone">
          <div
            *ngIf="isTrainingEnabled | async"
            class="group-items">
            <a
              [routerLink]="(isAdmin | async) ? kbUrl + '/training' : null"
              routerLinkActive="active"
              class="nav-link"
              [class.disabled]="!(isAdmin | async)">
              <pa-icon name="submenu"></pa-icon>
              <span class="nav-link-title">{{ 'stash.side.trainings' | translate }}</span>
            </a>
          </div>
          <ng-container *ngIf="isAccountManager | async">
            <div class="group-items">
              <a
                [routerLink]="kbUrl + '/users'"
                routerLinkActive="active"
                class="nav-link">
                <pa-icon name="users"></pa-icon>
                <span class="nav-link-title">{{ 'stash.side.users' | translate }}</span>
              </a>
            </div>
          </ng-container>
          <div
            *ngIf="isAdmin | async"
            class="group-items">
            <a
              [routerLink]="kbUrl + '/keys'"
              routerLinkActive="active"
              class="nav-link">
              <pa-icon name="lock-off"></pa-icon>
              <span class="nav-link-title">{{ 'stash.side.api_keys' | translate }}</span>
            </a>
          </div>
        </ng-container>

        <div class="group-items">
          <a
            [routerLink]="(isAdmin | async) && !(invalidKey | async) ? kbUrl + '/widget-generator' : null"
            routerLinkActive="active"
            class="nav-link"
            [class.disabled]="!(isAdmin | async) || (invalidKey | async)">
            <pa-icon name="widget"></pa-icon>
            <span class="nav-link-title">{{ 'stash.side.widgets' | translate }}</span>
          </a>
        </div>
        <div
          class="group-items"
          routerLink="/"
          *ngIf="standalone">
          <a class="nav-link">
            <pa-icon name="knowledge-box"></pa-icon>
            <span class="nav-link-title">{{ 'stash.side.manage-kbs' | translate }}</span>
          </a>
        </div>
      </div>
      <div
        class="nav-group"
        *ngIf="!standalone">
        <div class="group-items">
          <a
            [routerLink]="(isAccountManager | async) ? (accountUrl | async) + '/home' : null"
            class="nav-link"
            routerLinkActive="active"
            [class.disabled]="!(isAccountManager | async)">
            <pa-icon name="account"></pa-icon>
            <span class="nav-link-title">{{ 'account.manage' | translate }}</span>
          </a>
        </div>
      </div>
    </div>
    <div
      *ngIf="(inAccount | async) && (isAccountManager | async)"
      class="navbar-content dark">
      <div class="nav-group">
        <div class="group-items">
          <a
            [routerLink]="(accountUrl | async) + '/home'"
            routerLinkActive="active"
            class="nav-link">
            <pa-icon name="home"></pa-icon>
            <span class="nav-link-title">{{ 'account.home' | translate }}</span>
          </a>
        </div>
        <div class="group-items">
          <a
            [routerLink]="(accountUrl | async) + '/settings'"
            routerLinkActive="active"
            class="nav-link">
            <pa-icon name="settings"></pa-icon>
            <span class="nav-link-title">{{ 'account.settings' | translate }}</span>
          </a>
        </div>
        <div class="group-items">
          <a
            [routerLink]="(accountUrl | async) + '/kbs'"
            routerLinkActive="active"
            class="nav-link">
            <pa-icon name="knowledge-box"></pa-icon>
            <span class="nav-link-title">{{ 'account.knowledgeboxes' | translate }}</span>
          </a>
        </div>
        <div class="group-items">
          <a
            [routerLink]="(accountUrl | async) + '/users'"
            routerLinkActive="active"
            class="nav-link">
            <pa-icon name="users"></pa-icon>
            <span class="nav-link-title">{{ 'account.users' | translate }}</span>
          </a>
        </div>
        <div class="group-items">
          <a
            [routerLink]="(accountUrl | async) + '/nua'"
            routerLinkActive="active"
            class="nav-link">
            <pa-icon name="key"></pa-icon>
            <span class="nav-link-title">{{ 'account.nua_keys' | translate }}</span>
          </a>
        </div>
        <div
          *ngIf="isBillingEnabled | async"
          class="group-items">
          <a
            [routerLink]="(accountUrl | async) + '/billing'"
            routerLinkActive="active"
            class="nav-link">
            <pa-icon name="payment"></pa-icon>
            <span class="nav-link-title">{{ 'account.billing' | translate }}</span>
          </a>
        </div>
      </div>
      <div
        class="nav-group"
        *ngIf="kb | async">
        <div class="group-items">
          <a
            [routerLink]="kbUrl"
            class="nav-link">
            <pa-icon name="chevron-left"></pa-icon>
            <span class="nav-link-title">{{ 'generic.back' | translate }}</span>
          </a>
        </div>
      </div>
    </div>
  </div>
</div>
