<form [formGroup]="form">
  <pa-radio-group formControlName="modelType">
    <pa-radio
      value="private"
      help="user.kb.creation-form.models.nuclia-model.radio-help">
      {{ 'user.kb.creation-form.models.nuclia-model.radio-label' | translate }}
    </pa-radio>
    <pa-radio
      value="public"
      [disabled]="(isGeckoModelEnabled | async) === false && (areOpenAIModelsEnabled | async) === false"
      help="user.kb.creation-form.models.external-model.radio-help">
      {{ 'user.kb.creation-form.models.external-model.radio-label' | translate }}
    </pa-radio>
  </pa-radio-group>

  <div class="semantic-model-choice">
    @if (form.get('modelType')?.value === 'private') {
      <div class="title-xs">{{ 'user.kb.creation-form.models.nuclia-model.languages-label' | translate }}</div>
      <p class="body-m">
        {{ 'user.kb.creation-form.models.nuclia-model.languages-description' | translate }}
      </p>
      <div class="languages-container">
        @for (language of languages; track language.label) {
          <pa-checkbox
            [disabled]="disabled"
            [(value)]="language.selected"
            (valueChange)="sendSelection()">
            {{ language.label }}
          </pa-checkbox>
        }
      </div>
    } @else {
      <div class="title-xs">{{ 'user.kb.creation-form.models.external-model.label' | translate }}</div>
      <div class="models-container">
        <pa-radio-group
          formControlName="semanticModel"
          noBackground>
          @if (isGeckoModelEnabled | async) {
            <div class="beta-option">
              <pa-radio value="GECKO_MULTI">
                {{ 'user.kb.creation-form.models.external-model.options.gecko' | translate }}
              </pa-radio>
              <nsi-badge kind="tertiary">BETA</nsi-badge>
            </div>
          }
          @if (isExtraSemanticModelEnabled | async) {
            <div class="beta-option">
              <pa-radio value="MULTILINGUAL_EXTRA">MULTILINGUAL_EXTRA (testing on stage only)</pa-radio>
              <nsi-badge kind="tertiary">BETA</nsi-badge>
            </div>
          }
          @if (areOpenAIModelsEnabled | async) {
            <div class="beta-option">
              <pa-radio value="OPENAI_3_SMALL">
                {{ 'user.kb.creation-form.models.external-model.options.openai-small' | translate }}
              </pa-radio>
              <nsi-badge kind="tertiary">BETA</nsi-badge>
            </div>
            <div class="beta-option">
              <pa-radio value="OPENAI_3_LARGE">
                {{ 'user.kb.creation-form.models.external-model.options.openai-large' | translate }}
              </pa-radio>
              <nsi-badge kind="tertiary">BETA</nsi-badge>
            </div>
          }
        </pa-radio-group>
      </div>
    }
  </div>
</form>
