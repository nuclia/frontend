<div class="field">
  <label class="title-s">{{ 'onboarding.step2.models.title' | translate }}</label>
  <p>{{ 'onboarding.step2.models.help' | translate }}</p>
  <form [formGroup]="form">
    <pa-radio-group formControlName="modelType">
      <pa-radio
        value="private"
        [help]="'onboarding.step2.models.private-help' | translate">
        {{ 'onboarding.step2.models.private' | translate }}
      </pa-radio>
      <pa-radio
        value="public"
        [disabled]="(isGeckoModelEnabled | async) === false && (areOpenAIModelsEnabled | async) === false"
        [help]="'onboarding.step2.models.public-help' | translate">
        {{ 'onboarding.step2.models.public' | translate }}
      </pa-radio>
    </pa-radio-group>
    @if (form.get('modelType')?.value === 'private') {
      <label class="title-xxs">{{ 'onboarding.step2.models.languages-title' | translate }}</label>
      <p>{{ 'onboarding.step2.models.languages-help' | translate }}</p>
      <div class="languages-container">
        @for (language of languages; track language.label) {
          <pa-checkbox
            [(value)]="language.selected"
            (valueChange)="sendSelection()">
            {{ language.label }}
          </pa-checkbox>
        }
      </div>
    } @else {
      <label class="title-xxs">{{ 'onboarding.step2.models.model-title' | translate }}</label>
      <div class="models-container">
        <pa-radio-group formControlName="model">
          @if (isGeckoModelEnabled | async) {
            <pa-radio value="GECKO_MULTI">{{ 'onboarding.step2.models.gecko' | translate }}</pa-radio>
          }
          @if (areOpenAIModelsEnabled | async) {
            <pa-radio value="OPENAI_3_SMALL">{{ 'onboarding.step2.models.openai-small' | translate }}</pa-radio>
            <pa-radio value="OPENAI_3_LARGE">{{ 'onboarding.step2.models.openai-large' | translate }}</pa-radio>
          }
        </pa-radio-group>
      </div>
    }
  </form>
</div>
