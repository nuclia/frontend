<div class="profile">
  <div class="profile-container">
    <pa-button
      class="close-button"
      icon="cross"
      aspect="basic"
      (click)="goBack()">
      {{ 'generic.close' | translate }}
    </pa-button>

    <form [formGroup]="profileForm">
      <h1>{{ 'generic.user_preferences' | translate }}</h1>

      <div class="field">
        <pa-input
          formControlName="name"
          id="name"
          required
          [errorMessages]="profile_validation_messages.name">
          {{ 'profile.name' | translate }}
        </pa-input>
      </div>

      <div class="field">
        <pa-input
          formControlName="email"
          id="email"
          required
          type="email"
          [errorMessages]="profile_validation_messages.email">
          {{ 'generic.email' | translate }}
        </pa-input>
      </div>

      <ng-container *ngIf="canModifyPassword">
        <div class="field">
          <nsi-password-input
            formControlName="password"
            [errorMessages]="profile_validation_messages.password">
            {{ 'profile.new_password' | translate }}
          </nsi-password-input>
        </div>

        <div class="field">
          <nsi-password-input
            formControlName="passwordConfirm"
            [errorMessages]="profile_validation_messages.passwordConfirm">
            {{ 'profile.repeat_password' | translate }}
          </nsi-password-input>
        </div>
      </ng-container>

      <div class="field">
        <label for="language">{{ 'generic.language' | translate }}</label>
        <pa-radio-group
          id="language"
          formControlName="language">
          <pa-radio
            *ngFor="let lang of languages"
            [value]="lang.value">
            {{ lang.label | translate }}
          </pa-radio>
        </pa-radio-group>
      </div>

      <div class="actions">
        <pa-button
          kind="primary"
          (click)="save()">
          {{ 'generic.save' | translate }}
        </pa-button>
      </div>
    </form>
  </div>
</div>
