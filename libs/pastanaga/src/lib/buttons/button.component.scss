@import '../styles/partials/_variables';

stf-button {
  display: inline-block;
  &.full-width {
    display: block;
    .stf-button {
      width: 100%;
    }
  }
}

.stf-button {
  $root: &;
  background: transparent;
  display: inline-block;
  width: auto;
  padding: 0;
  border: 0;
  margin: 0 auto;
  box-sizing: border-box;
  vertical-align: middle;
  font-family: var(--stf-font-family);
  cursor: pointer;
  border-radius: var(--stf-border-radius-button);
  outline: 0;
  -webkit-touch-callout: none;
  -webkit-tap-highlight-color: rgba(34, 151, 199, 0.25);
  transition: background-color var(--stf-transition-button), box-shadow var(--stf-transition-button),
    color var(--stf-transition-button);

  &-icon {
    &:not(.icon-only) {
      padding-right: 10px;
    }
    svg {
      fill: currentColor;
      width: 20px;
      height: 20px;
      vertical-align: middle;
    }
  }
  &-wrapper {
    display: inline-flex;
    align-items: center;
    justify-content: center;
    width: 100%;
    height: 100%;

    padding: 0 rythm(1);
    #{$root}#{$root}-pd-l & {
      padding-left: rythm(2);
      padding-right: rythm(2);
    }
    #{$root}#{$root}-pd-xl & {
      padding-left: rythm(3);
      padding-right: rythm(3);
    }
  }

  &#{&}-primary {
    color: var(--stf-button-primary-color);
    background-color: var(--stf-button-primary-background);
    &:hover {
      box-shadow: var(--stf-shadow-button) var(--stf-button-primary-hover-shadow);
    }
    &:active {
      color: var(--stf-button-primary-active-color);
      background-color: var(--stf-button-primary-active-background);
      box-shadow: none;
    }
  }
  &#{&}-secondary {
    color: var(--stf-button-secondary-color);
    background-color: var(--stf-button-secondary-background);
    &:hover {
      box-shadow: var(--stf-shadow-button) var(--stf-button-secondary-hover-shadow);
    }
    &:active {
      color: var(--stf-button-secondary-active-color);
      background-color: var(--stf-button-secondary-active-background);
      box-shadow: none;
    }
  }
  &#{&}-destructive {
    color: var(--stf-button-destructive-color);
    background-color: var(--stf-button-destructive-background);
    border: 1px solid var(--stf-button-destructive-border);
    &:hover {
      box-shadow: var(--stf-shadow-button) var(--stf-button-destructive-hover-shadow);
    }
    &:active {
      color: var(--stf-button-destructive-active-color);
      background-color: var(--stf-button-destructive-active-background);
      box-shadow: none;
    }
  }
  &#{&}-white {
    color: var(--stf-button-white-color);
    background-color: var(--stf-button-white-background);
    &:hover {
      box-shadow: var(--stf-shadow-button) var(--stf-button-white-hover-shadow);
    }
    &:active {
      color: var(--stf-button-white-active-color);
      background-color: var(--stf-button-white-active-background);
      box-shadow: none;
    }
  }
  &#{&}-gray {
    color: var(--stf-button-gray-color);
    background-color: var(--stf-button-gray-background);
    &:hover {
      box-shadow: var(--stf-shadow-button) var(--stf-button-gray-hover-shadow);
    }
    &:active {
      color: var(--stf-button-gray-active-color);
      background-color: var(--stf-button-gray-active-background);
      box-shadow: none;
    }
  }
  &#{&}-legacy {
    color: var(---stf-black);
    background-color: var(--stf-gray-background);
    box-shadow: var(--stf-shadow-button-2);
    &:hover {
      color: var(--stf-black);
      background-color: var(--stf-white);
    }
    &:active {
      box-shadow: inset 3px 3px 3px var(--stf-blue-light);
      color: var(--stf-black);
      background-color: var(--stf-gray-background);
    }
  }

  &#{&}-small {
    height: var(--stf-button-small-height);
  }
  &#{&}-medium {
    height: var(--stf-button-medium-height);
  }

  &-regular {
    font-weight: var(--stf-font-weight-regular);
  }
  &-semibold {
    font-weight: var(--stf-font-weight-semibold);
  }
  &-bold {
    font-weight: var(--stf-font-weight-bold);
  }

  &:disabled,
  &:hover:disabled,
  &:active:disabled {
    color: var(--stf-white);
    background: var(--stf-gray-disabled-2);
    pointer-events: none;
    cursor: default;
  }

  &-link {
    vertical-align: baseline;
    font-size: inherit;
    font-weight: bolder;
    display: inline-block;
    white-space: normal;
    line-height: inherit;

    &:hover {
      background: transparent;
      border-color: transparent;
    }
    & .stf-button-wrapper.inline {
      line-height: inherit;
      display: inline;
      outline: 0;
      padding: 0 rythm(0.25);
      border-radius: var(--stf-border-radius-button);
      margin: -rythm(0.5) 0;
      &:hover,
      &:active {
        text-decoration: underline;
      }
    }
  }

  @keyframes focus-ring {
    from {
      box-shadow: 0 0 0 12px rgba(34, 151, 199, 0);
    }
    to {
      box-shadow: 0 0 0 3px rgba(34, 151, 199, 0.5);
    }
  }
  &:focus > &-wrapper {
    outline: 0;
    animation-name: focus-ring;
    animation-duration: 0.33s;
    box-shadow: 0 0 0 3px rgba(34, 151, 199, 0.5);
    border-radius: var(--stf-border-radius-button);
  }
  &:not(:-moz-focusring):focus > &-wrapper {
    outline: 0;
  }
  &::-moz-focus-inner,
  button::-moz-focus-outer {
    border: 0;
  }
  &:focus,
  &-wrapper:focus {
    outline: 0;
  }
}

a.stf-button:focus,
a.stf-button-link:focus {
  box-shadow: none;
  animation: none;
}
