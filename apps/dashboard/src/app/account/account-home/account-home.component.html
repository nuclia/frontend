<div class="account-home">
  <div class="container-row">
    <div class="processing-stats">
      <pa-tabs noSlider notFullWidth>
        <pa-tab [active]="selectedTab === 'completed'"
                (click)="selectedTab = 'completed'">{{'account.chart_title_processed' | translate}}</pa-tab>
        <pa-tab *ngIf="(isFreeAccount | async) === false"
                [active]="selectedTab === 'pending'"
                (click)="selectedTab = 'pending'">{{'account.chart_title_pending_resources' | translate}}</pa-tab>
      </pa-tabs>

      <section *ngIf="selectedTab === 'completed'"
               class="container">
        <div class="chart-header">
          <div class="chart-type-container">
            <span class="chart-type"
                  [class.selected]="(processedView | async) === statsType.CHARS"
                  (click)="processedView.next(statsType.CHARS)"
            >{{ 'account.chart_ML_characters' | translate }}</span>
            <div class="separator"></div>
            <span class="chart-type"
                  [class.selected]="(processedView | async) === statsType.MEDIA_SECONDS"
                  (click)="processedView.next(statsType.MEDIA_SECONDS)"
            >{{ 'account.chart_media_hours' | translate }}</span>
            <div class="separator"></div>
            <span class="chart-type"
                  [class.selected]="(processedView | async) === statsType.DOCS_NO_MEDIA"
                  (click)="processedView.next(statsType.DOCS_NO_MEDIA)"
            >{{ 'account.chart_documents' | translate }}</span>
          </div>
          <span class="renewal-message">{{ 'account.renewal' | translate }}</span>
        </div>
        <app-empty-chart *ngIf="(processing | async) === null" [numLines]="3"></app-empty-chart>
        <app-bar-chart [data]="(processing | async) || []"
                       [threshold]="(processedThreshold | async)"
                       [axisYMultiplier]="1"
                       [height]="320"
                       [locale]="locale | async"
                       [tooltipsEnabled]="true"
        ></app-bar-chart>
      </section>
      <section *ngIf="selectedTab === 'pending'"
               class="container">
        Will be there really soon ðŸ˜ƒ
      </section>
    </div>

    <div class="right-column">
      <div class="container kb-state">
        <strong>{{'stash.state' | translate}}:</strong>
        <span><strong>{{(kbsTotal | async) || 0}}</strong> {{'account.knowledgeboxes' | translate}}</span>
        <div class="separator"></div>
        <span><strong>{{(kbsPublic | async) || 0}}</strong> {{'account.public' | translate}}</span>
      </div>
      <div class="container">
        <strong>{{ 'account.total_queries' | translate }}</strong>
        <div class="total-queries" *ngIf="locale | async as locale">
          {{ totalQueries | async | number: '1.0-0':locale }}
        </div>
      </div>
    </div>
  </div>
</div>
