<div class="account-models page-spacing">
  <div class="account-models-header">
    <div>
      <h1 class="page-title">{{ 'account.models.title' | translate }}</h1>
      <p class="page-description">{{ 'account.models.description' | translate }}</p>
    </div>
  </div>

  <div class="account-models-content">
    <pa-tabs notFullWidth>
      <pa-tab
        [active]="selectedTab === 'configs'"
        (click)="selectedTab = 'configs'">
        {{ 'account.models.model-configs.title' | translate }}
      </pa-tab>
      <pa-tab
        [active]="selectedTab === 'restrictions'"
        (click)="selectedTab = 'restrictions'">
        {{ 'account.models.restrictions.title' | translate }}
      </pa-tab>      
    </pa-tabs>

    @if (selectedTab === 'configs') {
      <div class="configs">
        <div class="create">
          <pa-button
            iconAndText
            icon="circle-plus"
            (click)="createConfig()">
            {{ 'account.models.model-configs.create' | translate }}
          </pa-button>
        </div>
        @if (modelConfigs | async; as configs) {
          @if (configs.length > 0) {
            <pa-table
              columns="2fr 2fr 1fr 60px"
              border>
              <pa-table-header>
                <pa-table-cell header>
                  {{ 'account.models.model-configs.generative-model' | translate }}
                </pa-table-cell>
                <pa-table-cell header>{{ 'generic.description' | translate }}</pa-table-cell>
                <pa-table-cell header>{{ 'account.models.model-configs.zone' | translate }}</pa-table-cell>
                <pa-table-cell header></pa-table-cell>
              </pa-table-header>
              @for (config of configs; track config.id) {
                <pa-table-row
                  clickable
                  (click)="displayConfig(config)">
                  <pa-table-cell class="body-m">{{ config.default_model_id }}</pa-table-cell>
                  <pa-table-cell class="body-s">{{ config.description }}</pa-table-cell>
                  <pa-table-cell class="body-m">{{ config.zone }}</pa-table-cell>
                  <pa-table-cell>
                    <pa-button
                      icon="trash"
                      kind="destructive"
                      aspect="basic"
                      size="small"
                      (click)="deleteConfig(config, $event)">
                      {{ 'generic.delete' | translate }}
                    </pa-button>
                  </pa-table-cell>
                </pa-table-row>
              }
            </pa-table>
          }
        }
      </div>
    }
    @if (selectedTab === 'restrictions') {
      <app-model-restrictions></app-model-restrictions>
    }
  </div>
</div>
