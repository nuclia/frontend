<div class="container">
  <div
    class="section"
    id="account">
    <div class="section-container">
      <h2>{{ 'account.manage' | translate }}</h2>
      <form
        [formGroup]="accountForm"
        (ngSubmit)="saveAccount()">
        <div class="account-field">
          <label
            for="account-title"
            class="account-field-name mt-12">
            {{ 'account.title' | translate }}
          </label>
          <div>
            <pa-input
              id="account-title"
              formControlName="title"
              externalLabel
              [errorMessages]="validationMessages.title"></pa-input>
          </div>
        </div>

        <div class="account-field">
          <label
            for="account-description"
            class="account-field-name mt-12">
            {{ 'generic.description' | translate }}
          </label>
          <div>
            <pa-textarea
              id="account-description"
              formControlName="description"
              rows="4"></pa-textarea>
          </div>
        </div>

        <div class="account-form-cta">
          <pa-button
            type="submit"
            kind="primary"
            [disabled]="accountForm.invalid || accountForm.pristine">
            {{ 'generic.save' | translate }}
          </pa-button>

          <pa-button
            *ngIf="!accountForm.pristine"
            aspect="basic"
            (click)="initAccountForm()">
            {{ 'generic.cancel' | translate }}
          </pa-button>
        </div>
      </form>
    </div>
  </div>

  <div
    class="section"
    id="config">
    <div class="section-container">
      <h2>{{ 'account.config' | translate }}</h2>

      <div
        class="account-field"
        *ngIf="zones">
        <div class="account-field-name">
          {{ 'generic.zone' | translate }}
        </div>
        <div>
          <div class="mb-20">{{ 'account.zone_description' | translate }}</div>
          <pa-select
            [formControl]="zone"
            externalLabel>
            <pa-option
              *ngFor="let zone of zones"
              [value]="zone.id">
              {{ zone.title }}
            </pa-option>
          </pa-select>
        </div>
      </div>
    </div>
  </div>

  <div class="section">
    <div class="section-container">
      <h2>{{ 'account.delete_account' | translate }}</h2>

      <div class="dangerous-zone">
        <div class="dangerous-zone-title">{{ 'generic.dangerous' | translate }}</div>
        <div class="dangerous-zone-warning">
          <div>{{ 'account.delete_account_warning_1' | translate: { account: account?.title || '' } }}</div>
          <ul>
            <li>{{ 'account.delete_account_warning_2' | translate }}</li>
            <li>{{ 'account.delete_account_warning_3' | translate }}</li>
            <li>{{ 'account.delete_account_warning_4' | translate }}</li>
          </ul>
        </div>
        <pa-button
          kind="destructive"
          icon="trash"
          iconAndText
          (click)="deleteAccount()">
          {{ 'generic.delete' | translate }}
        </pa-button>
      </div>
    </div>
  </div>
</div>
