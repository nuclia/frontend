<div class="client-dialog">
  <h1>{{ (editMode ? 'account.edit_nua_key' : 'account.create_nua_key') | translate }}</h1>
  <pa-button
    class="close-button"
    icon="cross"
    aspect="basic"
    (click)="close()">
    {{ 'generic.close' | translate }}
  </pa-button>

  <form
    [formGroup]="clientForm"
    (ngSubmit)="save()">
    <div class="field-container">
      <label
        class="title-xxs"
        for="client-title">
        {{ 'account.nua_client' | translate }}*
      </label>
      <div>
        <pa-input
          id="client-title"
          externalLabel
          formControlName="title"
          [errorMessages]="validationMessages.title"></pa-input>
      </div>
    </div>

    <div class="field-container">
      <label
        class="title-xxs"
        for="client-email">
        <span>{{ 'generic.email' | translate }}*</span>
        <pa-icon
          class="info"
          name="info"
          size="small"
          paTooltip="account.email_info"></pa-icon>
      </label>
      <div>
        <pa-input
          id="client-email"
          externalLabel
          formControlName="email"
          [errorMessages]="validationMessages.email"></pa-input>
      </div>
    </div>

    <div>
      <div class="field-container">
        <label
          class="title-xxs"
          for="client-webhook">
          <span>{{ 'account.nua_webhook' | translate }}</span>
          <pa-icon
            class="info"
            name="info"
            size="small"
            paTooltip="account.nua_webhook.help"></pa-icon>
        </label>
        <div>
          <pa-input
            id="client-webhook"
            externalLabel
            formControlName="webhook"></pa-input>
        </div>
      </div>
      <div class="webhook-hint">
        <ncom-hint label="Learn more about webhooks">
          <p>
            If webhook is defined, anytime a new result is available, Nuclia will make a
            <code>POST</code>
            call to this URL, sending the result as payload.
          </p>
          <a
            href="https://docs.nuclia.dev/docs/understanding/intro#use-a-webhook"
            target="_new">
            Learn more
          </a>
        </ncom-hint>
      </div>
    </div>

    <div class="zone">
      <h2>{{ 'generic.zone' | translate }}</h2>
      <div class="mb-24">{{ 'account.db_zone_description' | translate }}</div>
      <select
        stfSelect
        formControlName="zone"
        class="zone-select">
        <option
          *ngFor="let zone of zones | async"
          [value]="zone.id">
          {{ zone.title }}
        </option>
      </select>
    </div>

    <footer class="mt-40">
      <pa-button
        aspect="basic"
        (click)="close()">
        {{ 'generic.cancel' | translate }}
      </pa-button>
      <pa-button
        kind="primary"
        type="submit">
        {{ 'generic.save' | translate }}
      </pa-button>
    </footer>
  </form>
</div>
