<div class="knowledge-box-processes">
  <section>
    <h2>{{'stash.settings.processes.training' | translate}}</h2>
    <p class="last-run">
      <small>{{'stash.settings.processes.training.last_run' | translate:{runDate: lastRun} }}</small>
    </p>

    <p>{{'stash.settings.processes.training.info' | translate}}</p>

    <div class="checkbox-container">
      <stf-checkbox [(selected)]="intent"
                    [disabled]="cannotTrain | async"
                    color="dark">Intent</stf-checkbox>
      <stf-checkbox [(selected)]="labels"
                    [disabled]="cannotTrain | async"
                    color="dark">Labels</stf-checkbox>
    </div>

    <p *ngIf="intent || labels"
       [class.warning]="!agreement">
      {{'stash.settings.processes.training.time_requirement' | translate:{hours: hoursRequired} }}
    </p>

    <div class="agreement-container">
      <stf-checkbox [(selected)]="agreement"
                    [disabled]="cannotTrain | async"
                    color="dark">{{'stash.settings.processes.training.agreement' | translate}}</stf-checkbox>
    </div>

    <div *ngIf="cannotTrain | async"
         class="warning">{{ 'stash.settings.processes.training.not-allowed' | translate}}</div>
    <div class="cta-container">
      <stf-button minWidth="110px"
                  [color]="training ? 'secondary' : 'primary'"
                  [disabled]="(training && (!intent || !labels) && !agreement) || (cannotTrain | async)"
                  (click)="startOrStopTraining()">{{('stash.settings.processes.training.' + (training ? 'stop' :
        'start')) | translate}}</stf-button>
      <div *ngIf="training"
           class="active-training warning">
        {{'stash.settings.processes.training.active' | translate}}
      </div>
    </div>

  </section>
</div>