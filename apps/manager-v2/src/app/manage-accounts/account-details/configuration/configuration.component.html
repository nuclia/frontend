<h3>Configuration</h3>
<form
  [formGroup]="configForm"
  (ngSubmit)="save()">
  <pa-input formControlName="email">Email</pa-input>
  <pa-input formControlName="slug">Slug</pa-input>
  <div class="account-type-container">
    <pa-select
      readonly
      label="Account type"
      formControlName="type">
      <pa-option value="stash-trial">Trial</pa-option>
      <pa-option value="stash-enterprise">Enterprise</pa-option>
      <pa-option value="stash-business">Business</pa-option>
      <pa-option value="stash-developer">Developer</pa-option>
      <pa-option value="stash-startup">Startup</pa-option>
      <pa-option value="stash-starter">Starter</pa-option>
      <pa-option value="stash-growth">Growth</pa-option>
      <pa-option value="v3starter">Starter v3</pa-option>
      <pa-option value="v3fly">Fly v3</pa-option>
      <pa-option value="v3growth">Growth v3</pa-option>
      <pa-option value="v3enterprise">Enterprise v3</pa-option>
    </pa-select>

    <pa-button
      *ngIf="configForm.controls.type.value === 'stash-trial' || configForm.controls.type.value === 'stash-enterprise'"
      (click)="toggleAccountType()">
      {{ configForm.controls.type.value === 'stash-trial' ? 'Upgrade to Enterprise' : 'Downgrade to Trial' }}
    </pa-button>
  </div>

  <pa-date-picker
    *ngIf="canModifyTrialExpiration"
    label="Trial expiration date"
    formControlName="trialExpirationDate"></pa-date-picker>
  <pa-input
    type="number"
    formControlName="maxDedicatedProcessors">
    Max dedicated processors
  </pa-input>

  <pa-select
    label="Dedicated processors state"
    formControlName="dedicatedProcessorsState">
    <pa-option value="enabled">Enabled</pa-option>
    <pa-option value="disabled">Disabled</pa-option>
    <pa-option value="paused">Paused</pa-option>
  </pa-select>

  <div>
    <label
      class="title-xxs"
      for="max-kbs">
      Max knowledge boxes available
    </label>
    <div
      class="radio-limit-container"
      formGroupName="kbs">
      <pa-radio-group
        id="max-kbs"
        formControlName="kbs_radio">
        <pa-radio value="unlimited">Unlimited</pa-radio>
        <pa-radio value="limit">Limit</pa-radio>
      </pa-radio-group>
      <div
        *ngIf="configForm.controls.kbs.controls.kbs_radio.value === 'limit'"
        class="limit-container">
        <pa-input
          type="number"
          externalLabel
          formControlName="maxKbs"></pa-input>
        <pa-button
          icon="reload"
          paTooltip="Reset to default"
          aspect="basic"
          (click)="resetMaxKbsToDefault()">
          Reset to default
        </pa-button>
      </div>
    </div>
  </div>
  <nma-form-footer
    [disabled]="configForm.pristine || configForm.invalid || isSaving"
    (cancel)="reset()"></nma-form-footer>
</form>
